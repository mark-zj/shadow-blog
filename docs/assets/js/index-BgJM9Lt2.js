import{_ as D,o as p,a as L,w as s,b as a,t as se,am as oe,an as F,z as E,d as h,q as ue,n as w,s as k,ao as de,V as S,c as z,v as T,g as N,R as j,l as G,ae as O,k as ce,F as Y,r as J,e as ge,f as ve,ap as fe,i as me,aq as pe,I as ye,ar as be,B as he,T as $,as as _e,C as Le,at as xe,au as Pe,W as Ce,av as Ve,X as ke,Y as Ae,aw as Be,D as Se,ax as Te,a2 as $e,ay as Ie,az as we,H as Me,aA as Re,aB as W,G as Fe,N as P,aC as I,a0 as _,P as Ne,A,a9 as B,aD as K,aE as X,ab as ze,p as H,ad as De,ai as qe}from"./index-uoB7XtTf.js";const Ue={name:"ArticleListCard",props:{article:{type:Object,default:null},articleLoading:{type:Boolean,default:!1}},data:()=>({openArticleCardLoading:!1}),methods:{openArticleCard(){this.openArticleCardLoading=!0,setTimeout(()=>{this.openArticleCardLoading=!1,this.$router.push({path:"/article"})},1e3)}}},Ee={class:"d-flex align-center font-weight-bold"},je={key:1,class:"px-1 text-primary"},Ge={class:"cursor-default d-flex flex-wrap gc-1 gr-1"};function Oe(e,l,i,x,r,v){return p(),L(me,{loading:e.openArticleCardLoading,disabled:e.openArticleCardLoading,onClick:v.openArticleCard,color:"rgba(var(--v-theme-surface) , .2)",elevation:"0",hover:""},{loader:s(({isActive:u})=>[a(se,{active:u,color:"primary",height:"3",indeterminate:"",reverse:""},null,8,["active"])]),default:s(()=>[a(oe,{onClick:l[0]||(l[0]=F(()=>{},["stop"])),"model-value":i.articleLoading,scrim:"surface",class:"align-center justify-center","content-class":"text-primary",persistent:"",contained:""},{default:s(()=>[a(E,{color:"primary",indeterminate:i.articleLoading},null,8,["indeterminate"]),l[3]||(l[3]=h("span",{class:"px-5 text-mono"},"正在加载...",-1))]),_:1},8,["model-value"]),a(ue,{class:"align-end",height:"260",src:i.article.bannerUrl,cover:""},{placeholder:s(()=>[a(w,{align:"center",class:"fill-height gc-2",justify:"center"},{default:s(()=>[a(E,{color:"primary",indeterminate:""}),l[4]||(l[4]=k()),l[5]||(l[5]=h("span",null,"图片加载中...",-1))]),_:1})]),error:s(()=>[a(w,{align:"center",class:"fill-height",justify:"center"},{default:s(()=>l[6]||(l[6]=[k(" 图片加载出错 ! ")])),_:1})]),default:s(()=>[a(de,{class:"article-banner-content"},{default:s(()=>[h("div",Ee,[i.article.topMounted?(p(),L(S,{key:0,class:"pushpin",color:"primary",size:"small",icon:"mdi-pin"})):(p(),z("span",je,"#")),h("span",null,T(i.article.title),1)])]),_:1})]),_:1},8,["src"]),a(N,null,{default:s(()=>[j(a(G,{"prepend-icon":"mdi-shape",variant:"text",text:i.article.category.name,onClick:l[1]||(l[1]=F(()=>{},["stop"]))},null,8,["text"]),[[O,{text:`${i.article.category.description}`}]])]),_:1}),a(N,null,{default:s(()=>[a(ce,{column:""},{default:s(()=>[(p(!0),z(Y,null,J(i.article.tags,(u,f)=>j((p(),L(G,{text:u.name,key:`${u.name}-${f}`,onClick:l[2]||(l[2]=F(()=>{},["stop"])),rounded:"sm",tile:""},{prepend:s(()=>[a(S,{color:u.color,icon:"mdi-tag"},null,8,["color"])]),_:2},1032,["text"])),[[O,{text:`${u.description}`,location:"bottom"}]])),128))]),_:1})]),_:1}),a(N,null,{default:s(()=>[h("div",Ge,[h("span",null,[a(S,{icon:"mdi-clipboard-text-clock"}),k(" 发表于"+T(i.article.createTime),1)]),h("span",null,[a(S,{icon:"mdi-calendar-clock"}),k(" 更新于"+T(i.article.updateTime),1)])])]),_:1}),a(ge,null,{default:s(()=>[a(ve,{color:"primary",thickness:"2"})]),_:1}),a(fe,{class:"text-start text-xl-body-1 text-truncate"},{default:s(()=>[k(T(i.article.fragment),1)]),_:1})]),_:1},8,["loading","disabled","onClick"])}const Q=D(Ue,[["render",Oe],["__scopeId","data-v-cf4f1f91"]]),We=pe("article",{state:()=>({totalPages:100,pageSize:5,page:1,articleList:[{id:0,topMounted:!0,bannerUrl:`https://picsum.photos/seed/${Math.random()*100}/360/260?random=1`,title:"了解并使用消息队列",fragment:"在使用一门新技术之前我们肯定要搞明白这是个什么东西。消息队列这个词想必大家都很熟悉，不管你用没用过，你应该听过吧？即便你没有听过消息队列，那队列你应该听说过，所以在学习什么是消息队列之前我们先来说一下什么是队列（queue）",category:{id:1,name:"学习笔记",description:"学习笔记"},tags:[{id:1,name:"数据结构与算法",color:"red",description:"数据结构与算法"},{id:2,name:"C++",color:"blue",description:"C++"},{id:3,name:"网站部署",color:"orange",description:"网站部署"},{id:4,name:"网站部署",color:"orange",description:"网站部署"},{id:5,name:"网站部署",color:"orange",description:"网站部署"}],updateTime:"2024-01-01 11:00:11",createTime:"2024-01-01 12:00:12"},{id:1,topMounted:!0,bannerUrl:`https://picsum.photos/seed/${Math.random()*100}/360/260?random=1`,title:"了解并使用消息队列",fragment:"在使用一门新技术之前我们肯定要搞明白这是个什么东西。消息队列这个词想必大家都很熟悉，不管你用没用过，你应该听过吧？即便你没有听过消息队列，那队列你应该听说过，所以在学习什么是消息队列之前我们先来说一下什么是队列（queue）",category:{id:1,name:"学习笔记",description:"学习笔记"},tags:[{id:1,name:"数据结构与算法",color:"red",description:"数据结构与算法"},{id:2,name:"C++",color:"blue",description:"C++"},{id:3,name:"网站部署",color:"orange",description:"网站部署"}],updateTime:"2024-01-01 11:00:11",createTime:"2024-01-01 12:00:12"},{id:2,topMounted:!1,bannerUrl:`https://picsum.photos/seed/${Math.random()*100}/360/260?random=1`,title:"了解并使用消息队列",fragment:"在使用一门新技术之前我们肯定要搞明白这是个什么东西。消息队列这个词想必大家都很熟悉，不管你用没用过，你应该听过吧？即便你没有听过消息队列，那队列你应该听说过，所以在学习什么是消息队列之前我们先来说一下什么是队列（queue）",category:{id:1,name:"学习笔记",description:"学习笔记"},tags:[{id:1,name:"数据结构与算法",color:"red",description:"数据结构与算法"},{id:2,name:"C++",color:"blue",description:"C++"},{id:3,name:"网站部署",color:"orange",description:"网站部署"}],updateTime:"2024-01-01 11:00:11",createTime:"2024-01-01 12:00:12"},{id:3,topMounted:!1,bannerImgSrc:"",title:"了解并使用消息队列",fragment:"在使用一门新技术之前我们肯定要搞明白这是个什么东西。消息队列这个词想必大家都很熟悉，不管你用没用过，你应该听过吧？即便你没有听过消息队列，那队列你应该听说过，所以在学习什么是消息队列之前我们先来说一下什么是队列（queue）",category:{id:1,name:"学习笔记",description:"学习笔记"},tags:[{id:1,name:"数据结构与算法",color:"red",description:"数据结构与算法"},{id:2,name:"C++",color:"blue",description:"C++"},{id:3,name:"网站部署",color:"orange",description:"网站部署"}],updateTime:"2024-01-01 11:00:11",createTime:"2024-01-01 12:00:12"},{id:4,topMounted:!1,bannerUrl:`https://picsum.photos/seed/${Math.random()*100}/360/260?random=1`,title:"了解并使用消息队列",fragment:"在使用一门新技术之前我们肯定要搞明白这是个什么东西。消息队列这个词想必大家都很熟悉，不管你用没用过，你应该听过吧？即便你没有听过消息队列，那队列你应该听说过，所以在学习什么是消息队列之前我们先来说一下什么是队列（queue）",category:{id:1,name:"学习笔记",description:"学习笔记"},tags:[{id:1,name:"数据结构与算法",color:"red",description:"数据结构与算法"},{id:2,name:"C++",color:"blue",description:"C++"},{id:3,name:"网站部署",color:"orange",description:"网站部署"}],updateTime:"2024-01-01 11:00:11",createTime:"2024-01-01 12:00:12"}]}),getters:{getTotalPages:e=>e.totalPages,getPageSize:e=>e.pageSize,getPage:e=>e.page,getArticleList:e=>e.articleList},actions:{getArticleListByPage(e){this.page=e}}});function Ke(){const e=ye([]);be(()=>e.value=[]);function l(i,x){e.value[x]=i}return{refs:e,updateRef:l}}const Xe=he({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:$,default:"$first"},prevIcon:{type:$,default:"$prev"},nextIcon:{type:$,default:"$next"},lastIcon:{type:$,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,..._e(),...Le(),...xe(),...Pe(),...Ce(),...Ve(),...ke({tag:"nav"}),...Ae(),...Be({variant:"text"})},"VPagination"),He=Se()({name:"VPagination",props:Xe(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,l){let{slots:i,emit:x}=l;const r=Te(e,"modelValue"),{t:v,n:u}=$e(),{isRtl:f}=Ie(),{themeClasses:M}=we(e),{width:ee}=Me(),R=Re(-1);W(void 0,{scoped:!0});const{resizeRef:ae}=Fe(t=>{if(!t.length)return;const{target:n,contentRect:o}=t[0],g=n.querySelector(".v-pagination__list > *");if(!g)return;const m=o.width,V=g.offsetWidth+parseFloat(getComputedStyle(g).marginRight)*2;R.value=q(m,V)}),d=P(()=>parseInt(e.length,10)),c=P(()=>parseInt(e.start,10)),y=P(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):R.value>=0?R.value:q(ee.value,58));function q(t,n){const o=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((t-n*o)/n).toFixed(2)))}const te=P(()=>{if(d.value<=0||isNaN(d.value)||d.value>Number.MAX_SAFE_INTEGER)return[];if(y.value<=0)return[];if(y.value===1)return[r.value];if(d.value<=y.value)return I(d.value,c.value);const t=y.value%2===0,n=t?y.value/2:Math.floor(y.value/2),o=t?n:n+1,g=d.value-n;if(o-r.value>=0)return[...I(Math.max(1,y.value-1),c.value),e.ellipsis,d.value];if(r.value-g>=(t?1:0)){const m=y.value-1,V=d.value-m+c.value;return[c.value,e.ellipsis,...I(m,V)]}else{const m=Math.max(1,y.value-3),V=m===1?r.value:r.value-Math.ceil(m/2)+c.value;return[c.value,e.ellipsis,...I(m,V),e.ellipsis,d.value]}});function C(t,n,o){t.preventDefault(),r.value=n,o&&x(o,n)}const{refs:ie,updateRef:ne}=Ke();W({VPaginationBtn:{color:_(e,"color"),border:_(e,"border"),density:_(e,"density"),size:_(e,"size"),variant:_(e,"variant"),rounded:_(e,"rounded"),elevation:_(e,"elevation")}});const le=P(()=>te.value.map((t,n)=>{const o=g=>ne(g,n);if(typeof t=="string")return{isActive:!1,key:`ellipsis-${n}`,page:t,props:{ref:o,ellipsis:!0,icon:!0,disabled:!0}};{const g=t===r.value;return{isActive:g,key:t,page:u(t),props:{ref:o,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:g?e.activeColor:e.color,"aria-current":g,"aria-label":v(g?e.currentPageAriaLabel:e.pageAriaLabel,t),onClick:m=>C(m,t)}}}})),b=P(()=>{const t=!!e.disabled||r.value<=c.value,n=!!e.disabled||r.value>=c.value+d.value-1;return{first:e.showFirstLastPage?{icon:f.value?e.lastIcon:e.firstIcon,onClick:o=>C(o,c.value,"first"),disabled:t,"aria-label":v(e.firstAriaLabel),"aria-disabled":t}:void 0,prev:{icon:f.value?e.nextIcon:e.prevIcon,onClick:o=>C(o,r.value-1,"prev"),disabled:t,"aria-label":v(e.previousAriaLabel),"aria-disabled":t},next:{icon:f.value?e.prevIcon:e.nextIcon,onClick:o=>C(o,r.value+1,"next"),disabled:n,"aria-label":v(e.nextAriaLabel),"aria-disabled":n},last:e.showFirstLastPage?{icon:f.value?e.firstIcon:e.lastIcon,onClick:o=>C(o,c.value+d.value-1,"last"),disabled:n,"aria-label":v(e.lastAriaLabel),"aria-disabled":n}:void 0}});function U(){var n;const t=r.value-c.value;(n=ie.value[t])==null||n.$el.focus()}function re(t){t.key===K.left&&!e.disabled&&r.value>+e.start?(r.value=r.value-1,X(U)):t.key===K.right&&!e.disabled&&r.value<c.value+d.value-1&&(r.value=r.value+1,X(U))}return Ne(()=>a(e.tag,{ref:ae,class:["v-pagination",M.value,e.class],style:e.style,role:"navigation","aria-label":v(e.ariaLabel),onKeydown:re,"data-test":"v-pagination-root"},{default:()=>[a("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&a("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[i.first?i.first(b.value.first):a(A,B({_as:"VPaginationBtn"},b.value.first),null)]),a("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[i.prev?i.prev(b.value.prev):a(A,B({_as:"VPaginationBtn"},b.value.prev),null)]),le.value.map((t,n)=>a("li",{key:t.key,class:["v-pagination__item",{"v-pagination__item--is-active":t.isActive}],"data-test":"v-pagination-item"},[i.item?i.item(t):a(A,B({_as:"VPaginationBtn"},t.props),{default:()=>[t.page]})])),a("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[i.next?i.next(b.value.next):a(A,B({_as:"VPaginationBtn"},b.value.next),null)]),e.showFirstLastPage&&a("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[i.last?i.last(b.value.last):a(A,B({_as:"VPaginationBtn"},b.value.last),null)])])]})),{}}}),Ye={name:"ArticleList",components:{ArticleListCard:Q},props:{showPagination:{type:Boolean,default:!0}},setup(){return{}},mounted(){this.getArticleListByPage_(1)},data:()=>({articleLoading:!1}),computed:{...ze(We,["getArticleList","getArticleListByPage","getTotalPages","getPage"])},methods:{getArticleListByPage_(e){this.articleLoading=!0,setTimeout(()=>{this.getArticleListByPage(e),this.articleLoading=!1},2e3)}}};function Je(e,l,i,x,r,v){const u=Q;return p(),L(qe,{fluid:"",class:"pa-0"},{default:s(()=>[a(w,null,{default:s(()=>[(p(!0),z(Y,null,J(e.getArticleList,(f,M)=>(p(),L(H,{cols:"12",class:"px-0",key:`${f.id}-${M}`},{default:s(()=>[a(u,{"article-loading":e.articleLoading,article:f},null,8,["article-loading","article"])]),_:2},1024))),128))]),_:1}),a(w,{justify:"center","align-content":"center"},{default:s(()=>[a(H,{cols:"12"},{default:s(()=>[i.showPagination?(p(),L(He,{key:0,modelValue:e.getPage,"onUpdate:modelValue":[l[0]||(l[0]=f=>e.getPage=f),v.getArticleListByPage_],length:e.getTotalPages,variant:"flat","active-color":"primary",density:"comfortable","next-icon":"mdi-menu-right","prev-icon":"mdi-menu-left"},null,8,["modelValue","length","onUpdate:modelValue"])):De("",!0)]),_:1})]),_:1})]),_:1})}const Z=D(Ye,[["render",Je]]),Qe={name:"Index",components:{ArticleList:Z}};function Ze(e,l,i,x,r,v){const u=Z;return p(),L(u,{showPagination:""})}const aa=D(Qe,[["render",Ze]]);export{aa as default};
